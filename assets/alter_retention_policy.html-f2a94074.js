import{_ as a,X as e,Y as s,a3 as n}from"./framework-a4aa538b.js";const o={},t=n(`<h1 id="alter-retention-policy" tabindex="-1"><a class="header-anchor" href="#alter-retention-policy" aria-hidden="true">#</a> ALTER RETENTION POLICY</h1><h2 id="语法" tabindex="-1"><a class="header-anchor" href="#语法" aria-hidden="true">#</a> 语法</h2><p><code>ALTER RETENTION POLICY</code>查询语法如下，必须声明至少一个保留策略属性<code>DURATION</code>，<code>REPLICATION</code>，<code>SHARD DURATION</code>或<code>DEFAULT</code>：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> RETENTION POLICY <span class="token operator">&lt;</span>retention_policy_name<span class="token operator">&gt;</span> <span class="token keyword">ON</span> <span class="token operator">&lt;</span>database_name<span class="token operator">&gt;</span> DURATION <span class="token operator">&lt;</span>duration<span class="token operator">&gt;</span> <span class="token keyword">REPLICATION</span> <span class="token operator">&lt;</span>n<span class="token operator">&gt;</span> SHARD DURATION <span class="token operator">&lt;</span>duration<span class="token operator">&gt;</span> <span class="token keyword">DEFAULT</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Note</p><p>复制因子 <code>REPLICATION &lt;n&gt;</code> 仅支持 1</p></div><h2 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> 示例</h2><p>首先，以2d的<code>DURATION</code>创建保留策略<code>what_is_time</code>：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> RETENTION POLICY <span class="token string">&quot;what_is_time&quot;</span> <span class="token keyword">ON</span> <span class="token string">&quot;NOAA_water_database&quot;</span> DURATION <span class="token number">2</span>d <span class="token keyword">REPLICATION</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>修改<code>what_is_time</code>以使其具有三周的<code>DURATION</code>，两个小时的分片组持续时间，并使其成为<code>NOAA_water_database</code>的<code>DEFAULT</code>保留策略。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> RETENTION POLICY <span class="token string">&quot;what_is_time&quot;</span> <span class="token keyword">ON</span> <span class="token string">&quot;NOAA_water_database&quot;</span> DURATION <span class="token number">3</span>w SHARD DURATION <span class="token number">2</span>h <span class="token keyword">DEFAULT</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在最后一个示例中，<code> what_is_time</code>保留其原始复制因子<code>1</code>。</p><p>成功的<code>ALTER RETENTION POLICY</code>查询不返回任何结果。</p>`,12),c=[t];function d(r,p){return e(),s("div",null,c)}const i=a(o,[["render",d],["__file","alter_retention_policy.html.vue"]]);export{i as default};
