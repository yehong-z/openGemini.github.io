import{_ as s,X as a,Y as n,a3 as e}from"./framework-a4aa538b.js";const t={},o=e(`<h1 id="where" tabindex="-1"><a class="header-anchor" href="#where" aria-hidden="true">#</a> WHERE</h1><p><code>WHERE</code>子句根据field、tag、timestamp来过滤数据。</p><h2 id="语法" tabindex="-1"><a class="header-anchor" href="#语法" aria-hidden="true">#</a> 语法</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> COLUMN_CLAUSES FROM_CLAUSE <span class="token keyword">WHERE</span> <span class="token operator">&lt;</span>CONDITION<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token operator">AND</span><span class="token operator">|</span><span class="token operator">OR</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span>CONDITION<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="tags" tabindex="-1"><a class="header-anchor" href="#tags" aria-hidden="true">#</a> Tags</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>tag_key <span class="token operator">&lt;</span>operator<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token string">&#39;tag_value&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在<code>WHERE</code>子句中，请对<code>tag value</code>用单引号括起来。如果<code>tag value</code>没有使用引号或者使用了双引号，那么不会返回任何查询结果，在大多数情况下，也不会返回错误。</p><p>支持的 operator 有：</p><table><thead><tr><th style="text-align:center;">操作符</th><th style="text-align:left;">含义</th></tr></thead><tbody><tr><td style="text-align:center;"><code>=</code></td><td style="text-align:left;">等于</td></tr><tr><td style="text-align:center;"><code>&lt;&gt;</code></td><td style="text-align:left;">不等于</td></tr><tr><td style="text-align:center;"><code>!=</code></td><td style="text-align:left;">不等于</td></tr></tbody></table><p>operator还支持：正则表达式。</p><h3 id="fields" tabindex="-1"><a class="header-anchor" href="#fields" aria-hidden="true">#</a> Fields</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>field_key <span class="token operator">&lt;</span>operator<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token string">&#39;string&#39;</span> <span class="token operator">|</span> <span class="token keyword">boolean</span> <span class="token operator">|</span> <span class="token keyword">float</span> <span class="token operator">|</span> <span class="token keyword">integer</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>WHERE</code>子句支持对<code>field value</code>进行比较，<code>field value</code>可以是字符串、布尔值、浮点数或者整数。</p><p>在<code>WHERE</code>子句中，请对字符串类型的<code>field value</code>用单引号括起来。如果字符串类型的field value没有使用引号或者使用了双引号，那么不会返回任何查询结果，在大多数情况下，也不会返回错误。</p><p>支持的 operator 有：</p><table><thead><tr><th style="text-align:center;">操作符</th><th style="text-align:left;">含义</th></tr></thead><tbody><tr><td style="text-align:center;"><code>=</code></td><td style="text-align:left;">等于</td></tr><tr><td style="text-align:center;"><code>&lt;&gt;</code></td><td style="text-align:left;">不等于</td></tr><tr><td style="text-align:center;"><code>!=</code></td><td style="text-align:left;">不等于</td></tr><tr><td style="text-align:center;"><code>&gt;</code></td><td style="text-align:left;">大于</td></tr><tr><td style="text-align:center;"><code>&gt;=</code></td><td style="text-align:left;">大于等于</td></tr><tr><td style="text-align:center;"><code>&lt;</code></td><td style="text-align:left;">小于</td></tr><tr><td style="text-align:center;"><code>&lt;=</code></td><td style="text-align:left;">小于等于</td></tr></tbody></table><p>operator还支持：算术运算和正则表达式。</p><h3 id="timestamp" tabindex="-1"><a class="header-anchor" href="#timestamp" aria-hidden="true">#</a> Timestamp</h3><p>对于大多数<code>SELECT</code>语句，默认的时间范围是全部时间范围。对于带<code>GROUP BY time()</code>子句的<code>SELECT</code>语句，默认的时间范围是从<strong>时间最小的数据的时间</strong><code>到</code>now()\`。</p><h2 id="例子" tabindex="-1"><a class="header-anchor" href="#例子" aria-hidden="true">#</a> 例子</h2><h3 id="查询field-value满足一定条件的数据" tabindex="-1"><a class="header-anchor" href="#查询field-value满足一定条件的数据" aria-hidden="true">#</a> 查询field value满足一定条件的数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span> <span class="token keyword">WHERE</span> <span class="token string">&quot;water_level&quot;</span> <span class="token operator">&gt;</span> <span class="token number">8</span>
name: h2o_feet
<span class="token operator">+</span><span class="token comment">---------------------+---------------------------+--------------+-------------+</span>
<span class="token operator">|</span> <span class="token keyword">time</span>                <span class="token operator">|</span> <span class="token keyword">level</span> description         <span class="token operator">|</span> location     <span class="token operator">|</span> water_level <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+---------------------------+--------------+-------------+</span>
<span class="token operator">|</span> <span class="token number">1566000000000000000</span> <span class="token operator">|</span> <span class="token operator">between</span> <span class="token number">6</span> <span class="token operator">and</span> <span class="token number">9</span> feet      <span class="token operator">|</span> coyote_creek <span class="token operator">|</span> <span class="token number">8.12</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566000360000000000</span> <span class="token operator">|</span> <span class="token operator">between</span> <span class="token number">6</span> <span class="token operator">and</span> <span class="token number">9</span> feet      <span class="token operator">|</span> coyote_creek <span class="token operator">|</span> <span class="token number">8.005</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>                                                                     <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1568679120000000000</span> <span class="token operator">|</span> <span class="token operator">between</span> <span class="token number">6</span> <span class="token operator">and</span> <span class="token number">9</span> feet      <span class="token operator">|</span> coyote_creek <span class="token operator">|</span> <span class="token number">8.189</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1568679480000000000</span> <span class="token operator">|</span> <span class="token operator">between</span> <span class="token number">6</span> <span class="token operator">and</span> <span class="token number">9</span> feet      <span class="token operator">|</span> coyote_creek <span class="token operator">|</span> <span class="token number">8.084</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+---------------------------+--------------+-------------+</span>
<span class="token number">4</span> <span class="token keyword">columns</span><span class="token punctuation">,</span> <span class="token number">1503</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该查询返回<code>h2o_feet</code>中的数据，这些数据满足条件：field key <code>water_level</code>的值大于8。</p><h3 id="查询field-value和tag-value都满足一定条件的数据" tabindex="-1"><a class="header-anchor" href="#查询field-value和tag-value都满足一定条件的数据" aria-hidden="true">#</a> 查询field value和tag value都满足一定条件的数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token string">&quot;water_level&quot;</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span> <span class="token keyword">WHERE</span> <span class="token string">&quot;location&quot;</span> <span class="token operator">&lt;&gt;</span> <span class="token string">&#39;santa_monica&#39;</span> <span class="token operator">AND</span> <span class="token punctuation">(</span>water_level <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">0.57</span> <span class="token operator">OR</span> water_level <span class="token operator">&gt;</span> <span class="token number">9.95</span><span class="token punctuation">)</span>
name: h2o_feet
<span class="token operator">+</span><span class="token comment">---------------------+-------------+</span>
<span class="token operator">|</span> <span class="token keyword">time</span>                <span class="token operator">|</span> water_level <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------------+</span>
<span class="token operator">|</span> <span class="token number">1566976680000000000</span> <span class="token operator">|</span> <span class="token number">9.957</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566977040000000000</span> <span class="token operator">|</span> <span class="token number">9.964</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566977400000000000</span> <span class="token operator">|</span> <span class="token number">9.954</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1567002240000000000</span> <span class="token operator">|</span> <span class="token operator">-</span><span class="token number">0.587</span>      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1567002600000000000</span> <span class="token operator">|</span> <span class="token operator">-</span><span class="token number">0.61</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1567002960000000000</span> <span class="token operator">|</span> <span class="token operator">-</span><span class="token number">0.591</span>      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1567091880000000000</span> <span class="token operator">|</span> <span class="token operator">-</span><span class="token number">0.594</span>      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1567092240000000000</span> <span class="token operator">|</span> <span class="token operator">-</span><span class="token number">0.571</span>      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------------+</span>
<span class="token number">2</span> <span class="token keyword">columns</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查询timestamp满足一定条件的数据" tabindex="-1"><a class="header-anchor" href="#查询timestamp满足一定条件的数据" aria-hidden="true">#</a> 查询timestamp满足一定条件的数据</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span> <span class="token keyword">WHERE</span> <span class="token keyword">time</span> <span class="token operator">&gt;</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">7</span>d
Elapsed: <span class="token number">1.062851</span>ms
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>没有满足过去7天内的数据。</p>`,28),p=[o];function l(r,c){return a(),n("div",null,p)}const i=s(t,[["render",l],["__file","where.html.vue"]]);export{i as default};
