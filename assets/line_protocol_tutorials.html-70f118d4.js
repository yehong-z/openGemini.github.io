import{_ as u,X as m,Y as v,Z as e,a1 as s,$ as n,a0 as a,a3 as t,C as r}from"./framework-a4aa538b.js";const g={},k=e("h1",{id:"è¡Œåè®®å†™å…¥æ•™ç¨‹",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#è¡Œåè®®å†™å…¥æ•™ç¨‹","aria-hidden":"true"},"#"),s(" è¡Œåè®®å†™å…¥æ•™ç¨‹")],-1),h=t(`<p>è¿™é‡Œå°†æè¿°å¦‚ä½•å°†æ•°æ®è¾“å…¥åˆ°openGemini æ•°æ®åº“ä»¥åŠopenGeminiå¦‚ä½•å¤„ç†line procotolé‡å¤æ•°æ®ã€‚</p><h2 id="è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#è¯­æ³•" aria-hidden="true">#</a> è¯­æ³•</h2><p>Line protocol æ ¼å¼çš„å•è¡Œæ–‡æœ¬ä»£è¡¨openGeminiä¸­çš„ä¸€ä¸ªpointï¼Œå®ƒå°†pointçš„measurementã€tag setï¼Œfield setä»¥åŠtimestampé€šçŸ¥ç»™openGemini</p><p>ä»¥ä¸‹ä»£ç å—æ˜¾ç¤ºäº†line procotolç¤ºä¾‹ï¼Œå¹¶å°†å…¶åˆ†è§£ä¸ºå„ä¸ªç»„ä»¶</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather,location=us-midwest temperature=82 1465839830100400200
  |    -------------------- --------------  |
  |             |             |             |
  |             |             |             |
+-----------+--------+-+---------+-+---------+
|measurement|,tag_set| |field_set| |timestamp|
+-----------+--------+-+---------+-+---------+
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éå†å›¾ä¸­æ¯ä¸ªå…ƒç´ :</p><h3 id="measurement" tabindex="-1"><a class="header-anchor" href="#measurement" aria-hidden="true">#</a> Measurement</h3><p>è¦å†™å…¥æ•°æ®çš„measurementåç§°ï¼Œæ ¹æ®line procotol ç”Ÿæˆmeasurementã€‚</p><p>åœ¨ç¤ºä¾‹ä¸­ï¼Œmeasurementçš„åç§°weatherã€‚</p><h3 id="tag-set" tabindex="-1"><a class="header-anchor" href="#tag-set" aria-hidden="true">#</a> Tag set</h3><p>æ•°æ®point åŒ…å«çš„tag ã€‚ <strong>tagæ˜¯å¯é€‰çš„</strong>ã€‚</p><div class="hint-container warning"><p class="hint-container-title">Note</p><p>é¿å…ä½¿ç”¨ä¿ç•™é”® <code>_field</code>, <code>_measurement</code>, å’Œ <code>time</code>ã€‚å¦‚æœä¿ç•™çš„å…³é”®å­—ä½œä¸ºtag æˆ–è€…fieldçš„é”®ï¼Œåˆ™ç›¸å…³è”çš„æ•°æ®ç‚¹å°†è¢«ä¸¢å¼ƒã€‚</p></div><p>è¯·æ³¨æ„ï¼Œmeasurement å’Œ tag setç”±é€—å·åˆ†éš”ï¼Œæ²¡æœ‰ç©ºæ ¼ã€‚</p><p>ç”¨ç­‰å·<code>=</code>åˆ†éš” <code>tag key</code>-<code>tag value</code>ï¼Œä¸è¦æœ‰ç©ºæ ¼ï¼Œä¾‹å¦‚ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;tag_key&gt;=&lt;tag_value&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç”¨é€—å·åˆ†éš”å¤šä¸ª <code>tag key</code>-<code>tag value</code>å¯¹ï¼Œä¸”æ²¡æœ‰ç©ºæ ¼:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;tag_key&gt;=&lt;tag_value&gt;,&lt;tag_key&gt;=&lt;tag_value&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨ç¤ºä¾‹ä¸­ï¼Œ<strong>tag set</strong> ç”±ä¸€ä¸ªæ ‡è®°ç»„æˆï¼š<code>location=us-midwest</code>ã€‚å¦‚æœå‘ç¤ºä¾‹ä¸­æ·»åŠ å¦ä¸€ä¸ªtag:<code>season=summer</code>ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather,location=us-midwest,season=summer temperature=82 1465839830100400200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,19),b=e("strong",null,"tag_key",-1),w={href:"http://golang.org/pkg/bytes/#Compare",target:"_blank",rel:"noopener noreferrer"},x=t(`<h3 id="ç©ºæ ¼-i" tabindex="-1"><a class="header-anchor" href="#ç©ºæ ¼-i" aria-hidden="true">#</a> ç©ºæ ¼ I</h3><p>å°†measurementå’Œfield set åˆ†å¼€ï¼Œæˆ–è€…å¦‚æœè¦åœ¨æ•°æ®pointä¸­åŒ…å«tag set ï¼Œè¯·ä½¿ç”¨ç©ºæ ¼å°†tag setå’Œfield set åˆ†å¼€ã€‚</p><p>æ²¡æœ‰è®¾ç½®tag çš„æœ‰æ•ˆline procotol:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather temperature=82 1465839830100400200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="field-set" tabindex="-1"><a class="header-anchor" href="#field-set" aria-hidden="true">#</a> Field set</h3><p>æ¯ä¸ªpoint éƒ½éœ€è¦åœ¨ line protocolä¸­è‡³å°‘æœ‰ä¸€ä¸ªfieldã€‚</p><p>ç”¨ç­‰å·<code>=</code> åˆ†éš”<code>field key</code>-<code>field value</code>ï¼Œä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œä¾‹å¦‚ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;field_key&gt;=&lt;field_value&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç”¨é€—å·åˆ†éš”å¤šä¸ª <code>field key</code>-<code>field value</code>å¯¹ï¼Œä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œä¾‹å¦‚ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;field_key&gt;=&lt;field_value&gt;,&lt;field_key&gt;=&lt;field_value&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨è¯¥ç¤ºä¾‹ä¸­ï¼Œfield setç”±ä¸€ä¸ªfieldç»„æˆ: <code>temperature=82</code>ã€‚å¦‚æœå‘ç¤ºä¾‹ä¸­æ·»åŠ å¦ä¸€ä¸ª field <code>humidity=71</code>ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather,location=us-midwest temperature=82,humidity=71 1465839830100400200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ç©ºæ ¼-ii" tabindex="-1"><a class="header-anchor" href="#ç©ºæ ¼-ii" aria-hidden="true">#</a> ç©ºæ ¼ II</h3><p>ç”¨ç©ºæ ¼åˆ†å‰²field setå’Œå¯é€‰çš„æ—¶é—´æˆ³ã€‚å¦‚æœåŒ…å«äº†æ—¶é—´æˆ³ï¼Œåˆ™line procotol ä¸­å¿…é¡»ä½¿ç”¨ç©ºæ ¼ã€‚</p><h3 id="timestamp" tabindex="-1"><a class="header-anchor" href="#timestamp" aria-hidden="true">#</a> Timestamp</h3><p>æ•°æ®pointçš„æ—¶é—´æˆ³ï¼Œä»¥nsä¸ºå•ä½çš„Unixæ—¶é—´ï¼Œæ—¶é—´æˆ³åœ¨line protocol ä¸­æ˜¯å¯é€‰çš„ï¼Œå¦‚æœæ²¡æœ‰ä¸ºæ•°æ®point æŒ‡å®šæ—¶é—´æˆ³ï¼Œåˆ™openGeminiä½¿ç”¨æœåŠ¡å™¨çš„æœ¬åœ°çº³ç§’æ—¶é—´æˆ³ï¼ˆä»¥UTCä¸ºå•ä½ï¼‰ã€‚</p><p>åœ¨ç¤ºä¾‹ä¸­ï¼Œæ—¶é—´æˆ³ä¸º<code>1465839830100400200ï¼ˆ2016-06-13T17:43:50.1004002Zé‡‡ç”¨RFC3339æ ¼å¼ï¼‰</code>ï¼Œä¸‹é¢çš„line procotolæ˜¯ç›¸åŒçš„æ•°æ®point ï¼Œä½†æ²¡æœ‰æ—¶é—´æˆ³ï¼Œå½“openGeminiå°†å…¶å†™å…¥æ•°æ®åº“ä¸­ï¼Œå®ƒå°†ä½¿ç”¨æœåŠ¡å™¨çš„æœ¬åœ°æ—¶é—´æˆ³è€Œä¸æ˜¯<code>2016-06-13T17:43:50.1004002Z</code>ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather,location=us-midwest temperature=82
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½¿ç”¨openGemini APIå¯ä»¥ä»¥åäº¿åˆ†ä¹‹ä¸€ç§’ï¼ˆä¾‹å¦‚å¾®ç§’ï¼Œæ¯«ç§’æˆ–ç§’ï¼‰ä»¥å¤–çš„ç²¾åº¦æŒ‡å®šæ—¶é—´æˆ³ï¼Œå»ºè®®ä½¿ç”¨æœ€ç²—ç•¥çš„ç²¾åº¦ï¼Œå› ä¸ºè¿™å¯ä»¥æ˜¾è‘—æé«˜å‹ç¼©ç‡ã€‚</p><div class="hint-container tip"><p class="hint-container-title">è®¾å®šæç¤º</p><p>ä½¿ç”¨ç½‘å’¯æ—¶é—´åè®®ï¼ˆNTPï¼‰ä¸»æœºä¹‹é—´åŒæ­¥æ—¶é—´ï¼ŒopenGeminiä½¿ç”¨UTCä¸­ä¸»æœºçš„æœ¬åœ°æ—¶é—´ä¸ºæ•°æ®åˆ†é…çš„æ—¶é—´æˆ³ã€‚å¦‚æœä¸»æœºçš„æ—¶é’Ÿä¸NTPåŒæ­¥ï¼Œåˆ™å†™å…¥openGeminiçš„æ•°æ®ä¸Šçš„æ—¶é—´æˆ³å¯èƒ½ä¸å‡†ç¡®ã€‚</p></div><h2 id="æ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#æ•°æ®ç±»å‹" aria-hidden="true">#</a> æ•°æ®ç±»å‹</h2><p><strong>measurements, tag keys, tag values, å’Œ field keys</strong>éƒ½å¿…é¡»æ˜¯å­—ç¬¦ä¸²ã€‚</p><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>å› ä¸ºopenGeminiå°†tag valueså­˜å‚¨ä¸ºå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥openGeminiæ•°æ®åº“ä¸èƒ½å¯¹tag vlauesæ‰§è¡Œæ•°å­¦è¿ç®—ï¼Œæ­¤å¤–ï¼ŒopenGeminiå‡½æ•°ä¹Ÿä¸èƒ½æ¥å—tag valueä½œä¸ºä¸»è¦å‚æ•°ï¼Œåœ¨è®¾è®¡æ¶æ„æ—¶è€ƒè™‘è¿™äº›ä¿¡æ¯æ˜¯ä¸ªå¥½ä¸»æ„ã€‚</p></div><p><strong>timestamp</strong>æ˜¯UNIXæ—¶é—´æˆ³ã€‚æœ€å°æœ‰æ•ˆæ—¶é—´æˆ³ä¸º<code>-9223372036854775806</code>æˆ–<code>1677-09-21T00:12:43.145224194Z</code>ã€‚æœ€å¤§æœ‰æ•ˆæ—¶é—´æˆ³ä¸º<code>9223372036854775806æˆ–2262-04-11t 23:47:16.85475806 z</code>ã€‚å¦‚ä¸Šæ‰€è¿°ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒopenGeminiå‡è®¾æ—¶é—´æˆ³ä¸ºçº³ç§’ç²¾åº¦ã€‚æœ‰å…³å¦‚ä½•æŒ‡å®šæ›¿ä»£ç²¾åº¦ï¼Œè¯·å‚è§<a href="">APIæ¥å£</a>ã€‚</p><p><strong>field values</strong> å¯ä»¥æ˜¯<strong>æµ®ç‚¹æ•°</strong>ã€<strong>æ•´æ•°</strong>ã€<strong>å­—ç¬¦ä¸²</strong>æˆ–è€… <strong>booleans</strong>ã€‚</p><ul><li><p>æµ®ç‚¹æ•° - é»˜è®¤ï¼ŒopenGeminiå‡è®¾æ‰€æœ‰æ•°å€¼å­—æ®µå€¼éƒ½æ˜¯æµ®ç‚¹ã€‚</p><p>å°†field value <code>82</code>å­˜å‚¨ä¸ºæµ®ç‚¹æ•°:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather,location=us-midwest temperature=82 1465839830100400200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>æ•´æ•° - åœ¨field valuesä¸­æ·»åŠ ä¸€ä¸ª<code>i</code>æ¥å‘Šè¯‰openGeminiå­˜å‚¨æ•´æ•°ã€‚</p><p>å°†field value <code>82</code> å­˜å‚¨ä¸ºæ•´æ•°:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather,location=us-midwest temperature=82i 1465839830100400200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>å­—ç¬¦ä¸²-åŒå¼•å·å­—ç¬¦ä¸²field value(æœ‰å…³line procotolä¸­å¼•ç”¨çš„æ›´å¤šä¿¡æ¯è§ <a href="#Quoting">ä¸‹æ–¹</a>)</p><p>å°†field value <code>too warm</code> å­˜å‚¨ä¸ºå­—ç¬¦ä¸²ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather,location=us-midwest temperature=&quot;too warm&quot; 1465839830100400200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>Booleans - æŒ‡å®šTRUEå¯ä»¥æ˜¯tï¼ŒTï¼Œtrueï¼ŒTrueï¼Œæˆ–TRUEã€‚æŒ‡å®šFALSEå¯ä»¥æ˜¯fï¼ŒFï¼Œfalseï¼ŒFalseï¼Œæˆ–FALSEã€‚</p><p>å°† field value <code>true</code> å­˜å‚¨ä¸ºä¸º Booleanå€¼ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather,location=us-midwest too_hot=true 1465839830100400200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Note</p><p>å¯æ¥å—çš„booleansåœ¨æ•°æ®å†™å…¥å’Œæ•°æ®æŸ¥è¯¢æ–¹é¢æœ‰æ‰€ä¸åŒã€‚</p></div></li></ul><p>åœ¨ä¸€ä¸ªmeasurementä¸­ï¼ŒåŒä¸€ä¸ªfieldä¸èƒ½å†™å…¥ä¸åŒçš„æ•°æ®ç±»å‹ã€‚</p><h2 id="quoting" tabindex="-1"><a class="header-anchor" href="#quoting" aria-hidden="true">#</a> Quoting</h2><p>æœ¬èŠ‚ä»‹ç»äº†åœ¨line procotol ä¸­ä½•æ—¶ä¸ä½¿ç”¨åŒå¼•å·å’Œä½•æ—¶å°†åŒå¼•å· (<code>&quot;</code>) æˆ–å•å¼•å· (<code>&#39;</code>)å¼•èµ·æ¥ã€‚ä¸‹é¢å°†ä»<strong>ä¸èƒ½åŠ å¼•å·</strong>åˆ°<strong>éœ€è¦åŠ å¼•å·</strong>çš„é¡ºåºåˆ†åˆ«ä»‹ç»ã€‚</p>`,29),_=e("p",null,"ä¸è¦ç”¨åŒå¼•å·æˆ–å•å¼•å·å¼•èµ·æ—¶é—´æˆ³ã€‚è¿™ä¸æ˜¯æœ‰æ•ˆçš„line procotolã€‚",-1),q=e("p",null,"ä¾‹:",-1),f=e("div",{class:"language-sql line-numbers-mode","data-ext":"sql"},[e("pre",{class:"language-sql"},[e("code",null,[e("span",{class:"token operator"},">>"),e("span",{class:"token operator"},">"),s(),e("span",{class:"token keyword"},"INSERT"),s(" weather"),e("span",{class:"token punctuation"},","),s("location"),e("span",{class:"token operator"},"="),s("us"),e("span",{class:"token operator"},"-"),s("midwest temperature"),e("span",{class:"token operator"},"="),e("span",{class:"token number"},"82"),s(),e("span",{class:"token string"},'"1465839830100400200"'),s(`
ERR: error parsing query: syntax error: unexpected IDENT
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),y=e("p",null,"é€šè¿‡ ts-cliï¼Œé€šä¸è¿‡è¯­æ³•æ£€æŸ¥ï¼Œæ—¶é—´æˆ³å¿…é¡»æ˜¯æ•´æ•°ç±»å‹ã€‚",-1),T=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[s("~"),e("span",{class:"token comment"},`# curl -X POST "http://localhost:8086/write?db=NOAA_water_database" --data-binary 'weather,location=us-midwest temperature=82 "1465839830100400200"'`),s(`
`),e("span",{class:"token punctuation"},"{"),e("span",{class:"token string"},'"error"'),e("span",{class:"token builtin class-name"},":"),e("span",{class:"token string"},[s('"cannot parse timestamp '),e("span",{class:"token entity",title:'\\"'},'\\"'),e("span",{class:"token entity",title:"\\\\"},"\\\\"),e("span",{class:"token entity",title:'\\"'},'\\"'),s("1465839830100400200"),e("span",{class:"token entity",title:"\\\\"},"\\\\"),e("span",{class:"token entity",title:'\\"'},'\\"'),e("span",{class:"token entity",title:'\\"'},'\\"'),s(': bad timestamp"')]),e("span",{class:"token punctuation"},"}"),s(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),E=e("p",null,[s("é€šè¿‡APIï¼Œåˆ™ä¼šæŠ¥"),e("strong",null,"bad timestamp"),s("é”™è¯¯ã€‚")],-1),G=t(`<li><p>ä¸èƒ½ä½¿ç”¨<strong>å•å¼•å·</strong>å¼•ç”¨å­—æ®µå€¼ï¼ˆå³ä½¿å®ƒä»¬æ˜¯å­—ç¬¦ä¸²)ã€‚è¿™ä¹Ÿä¸æ˜¯æœ‰æ•ˆçš„line procotolã€‚</p><p>ä¾‹:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">INSERT</span> weather<span class="token punctuation">,</span>location<span class="token operator">=</span>us<span class="token operator">-</span>midwest temperature<span class="token operator">=</span><span class="token string">&#39;toowarm&#39;</span>
ERR: {<span class="token string">&quot;error&quot;</span>:<span class="token string">&quot;cannot parse field value for \\&quot;temperature\\&quot;: invalid field value&quot;</span>}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä¸å»ºè®®å¯¹<strong>measurementåå­—</strong>, tag keys, <strong>tag values</strong>, å’Œ <strong>field keys</strong>ä½¿ç”¨å•å¼•å·æˆ–è€…åŒå¼•å·ã€‚ å®ƒæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„line procotolï¼Œä½†æ˜¯ openGemini ä¼šå‡è®¾å¼•å·ä¹Ÿæ˜¯å…¶ä¸­çš„ä¸€éƒ¨åˆ†ã€‚</p><p>ä¾‹:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>  <span class="token operator">&gt;</span> <span class="token keyword">INSERT</span> weather<span class="token punctuation">,</span>location<span class="token operator">=</span>us<span class="token operator">-</span>midwest temperature<span class="token operator">=</span><span class="token number">82</span> <span class="token number">1465839830100400200</span>
  <span class="token operator">&gt;</span> <span class="token keyword">INSERT</span> <span class="token string">&quot;weather&quot;</span><span class="token punctuation">,</span>location<span class="token operator">=</span>us<span class="token operator">-</span>midwest temperature<span class="token operator">=</span><span class="token number">87</span> <span class="token number">1465839830100400200</span>
  <span class="token operator">&gt;</span> <span class="token keyword">SHOW</span> MEASUREMENTS
  name: measurements
  <span class="token comment">------------------</span>
  name
  <span class="token string">&quot;weather&quot;</span>
  weather
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¦æŸ¥è¯¢<code>&quot;weather&quot;</code>ä¸­æ•°æ®ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token string">&quot;\\&quot;weather\\&quot;&quot;</span>
name: <span class="token string">&quot;weather&quot;</span>
<span class="token comment">---------------</span>
<span class="token keyword">time</span>                            location     temperature
<span class="token number">2016</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">13</span>T17:<span class="token number">43</span>:<span class="token number">50.1004002</span>Z    us<span class="token operator">-</span>midwest   <span class="token number">87</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¦æŸ¥è¯¢<code>weather</code>ä¸­æ•°æ®ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token string">&quot;weather&quot;</span>
name: <span class="token string">&quot;weather&quot;</span>
<span class="token comment">---------------</span>
<span class="token keyword">time</span>                            location     temperature
<span class="token number">2016</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">13</span>T17:<span class="token number">43</span>:<span class="token number">50.1004002</span>Z    us<span class="token operator">-</span>midwest   <span class="token number">82</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä¸è¦å¯¹æµ®ç‚¹æ•°ï¼Œæ•´æ•°æˆ–è€…<code>booleans</code>çš„ field valuesè¿›è¡ŒåŒå¼•å·ï¼ŒopenGeminiå°†å‡è®¾è¿™äº›å€¼æ˜¯å­—ç¬¦ä¸²</p><p>ä¾‹:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">INSERT</span> weather<span class="token punctuation">,</span>location<span class="token operator">=</span>us<span class="token operator">-</span>midwest temperature<span class="token operator">=</span><span class="token string">&quot;82&quot;</span>
<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> weather <span class="token keyword">WHERE</span> temperature <span class="token operator">&gt;=</span> <span class="token number">70</span>
<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å¯¹å­—ç¬¦ä¸²field valueè¿›è¡ŒåŒå¼•å·</p><p>ä¾‹</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">INSERT</span> weather<span class="token punctuation">,</span>location<span class="token operator">=</span>us<span class="token operator">-</span>midwest temperature<span class="token operator">=</span><span class="token string">&quot;too warm&quot;</span>
<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> weather
name: weather
<span class="token comment">-------------</span>
<span class="token keyword">time</span>                            location     temperature
<span class="token number">2016</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">13</span>T19:<span class="token number">10</span>:<span class="token number">09.995766248</span>Z  us<span class="token operator">-</span>midwest   too warm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>`,4),I=t(`<h2 id="ç‰¹æ®Šå­—ç¬¦å’Œå…³é”®å­—" tabindex="-1"><a class="header-anchor" href="#ç‰¹æ®Šå­—ç¬¦å’Œå…³é”®å­—" aria-hidden="true">#</a> ç‰¹æ®Šå­—ç¬¦å’Œå…³é”®å­—</h2><h3 id="ç‰¹æ®Šå­—ç¬¦" tabindex="-1"><a class="header-anchor" href="#ç‰¹æ®Šå­—ç¬¦" aria-hidden="true">#</a> ç‰¹æ®Šå­—ç¬¦</h3><p>å¯¹äº tag keys, tag value, å’Œ field keys å§‹ç»ˆä½¿ç”¨åæ–œæ  <code>\\</code>è½¬ä¹‰:</p><ul><li><p>é€—å· <code>,</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather,location=us\\,midwest temperature=82 1465839830100400200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ç­‰å· <code>=</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather,location=us-midwest temp\\=rature=82 1465839830100400200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ç©ºæ ¼</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather,location\\ place=us-midwest temperature=82 1465839830100400200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><p>å¯¹äºmeasurements è¯·å§‹ç»ˆä½¿ç”¨åæ–œæ  <code>\\</code>è¿›è¡Œè½¬ä¹‰:</p><ul><li><p>é€—å· <code>,</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>wea\\,ther,location=us-midwest temperature=82 1465839830100400200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ç©ºæ ¼</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>wea\\ ther,location=us-midwest temperature=82 1465839830100400200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><p>å¯¹äºå­—ç¬¦ä¸² field values è¯·ä½¿ç”¨åæ–œæ  <code>\\</code> è¿›è¡Œè½¬ä¹‰:</p><ul><li><p>åŒå¼•å· <code>&quot;</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather,location=us-midwest temperature=&quot;too\\&quot;hot\\&quot;&quot; 1465839830100400200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Line procotol ä¸è¦æ±‚ç”¨æˆ·è½¬ä¹‰åæ–œæ å­—ç¬¦ï¼Œä½†æ˜¯å¦‚æœéè¦è¿™æ ·åšä¹Ÿæ²¡é—®é¢˜ï¼Œä¾‹å¦‚ï¼Œæ’å…¥ä»¥ä¸‹å†…å®¹</p></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>weather,location=us-midwest temperature_str=&quot;too hot/cold&quot; 1465839830100400201
weather,location=us-midwest temperature_str=&quot;too hot\\cold&quot; 1465839830100400202
weather,location=us-midwest temperature_str=&quot;too hot\\\\cold&quot; 1465839830100400203
weather,location=us-midwest temperature_str=&quot;too hot\\\\\\cold&quot; 1465839830100400204
weather,location=us-midwest temperature_str=&quot;too hot\\\\\\\\cold&quot; 1465839830100400205
weather,location=us-midwest temperature_str=&quot;too hot\\\\\\\\\\cold&quot; 1465839830100400206
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°†è§£é‡Šå¦‚ä¸‹ï¼ˆè¯·æ³¨æ„ï¼Œå•åæ–œæ å’ŒåŒåæ–œæ äº§ç”Ÿç›¸åŒçš„è®°å½•ï¼‰</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token string">&quot;weather&quot;</span>
name: weather
<span class="token keyword">time</span>                location   temperature_str
<span class="token comment">----                --------   ---------------</span>
<span class="token number">1465839830100400201</span> us<span class="token operator">-</span>midwest too hot<span class="token operator">/</span>cold
<span class="token number">1465839830100400202</span> us<span class="token operator">-</span>midwest too hot\\cold
<span class="token number">1465839830100400203</span> us<span class="token operator">-</span>midwest too hot\\cold
<span class="token number">1465839830100400204</span> us<span class="token operator">-</span>midwest too hot\\\\cold
<span class="token number">1465839830100400205</span> us<span class="token operator">-</span>midwest too hot\\\\cold
<span class="token number">1465839830100400206</span> us<span class="token operator">-</span>midwest too hot\\\\\\cold
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€æœ‰å…¶å®ƒç‰¹æ®Šå­—ç¬¦ä¹Ÿä¸éœ€è¦è½¬ä¹‰ï¼Œä¾‹å¦‚ï¼Œline procotolå¯ä»¥æ¯«æ— é—®é¢˜çš„å¤„ç†è¡¨æƒ…ç¬¦å·:</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">INSERT</span> weâ›…ï¸ther<span class="token punctuation">,</span>location<span class="token operator">=</span>us<span class="token operator">-</span>midwest temperğŸ”¥ture<span class="token operator">=</span><span class="token number">82</span> <span class="token number">1465839830100400200</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&quot;weâ›…ï¸ther&quot;</span>
name: weâ›…ï¸ther
<span class="token operator">+</span><span class="token comment">---------------------+------------+--------------+</span>
<span class="token operator">|</span> <span class="token keyword">time</span>                <span class="token operator">|</span> location   <span class="token operator">|</span> temperğŸ”¥ture <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+------------+--------------+</span>
<span class="token operator">|</span> <span class="token number">1465839830100400200</span> <span class="token operator">|</span> us<span class="token operator">-</span>midwest <span class="token operator">|</span> <span class="token number">82</span>           <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+------------+--------------+</span>
<span class="token number">3</span> <span class="token keyword">columns</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å…³é”®å­—" tabindex="-1"><a class="header-anchor" href="#å…³é”®å­—" aria-hidden="true">#</a> å…³é”®å­—</h3><p>Line procotol æ¥å—GeminiQL å…³é”®å­—ä½œä¸ºæ ‡è¯†ç¬¦åç§°ã€‚</p><p>é€šå¸¸ï¼Œæˆ‘ä»¬å»ºè®®é¿å…åœ¨æ¶æ„ä¸­ä½¿ç”¨GeminiQLå…³é”®å­—ï¼Œå› ä¸ºå®ƒå¯èƒ½åœ¨æŸ¥è¯¢æ•°æ®æ—¶å¼•èµ·confusion ã€‚ å…³é”®å­—timeæ˜¯ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚timeå¯ä»¥æ˜¯continuous queryï¼Œæ•°æ®åº“åç§°ï¼Œmeasurementåç§°ï¼Œretention policy åç§°å’Œç”¨æˆ·åã€‚</p><p><code>time</code>æŸ¥è¯¢ä¸­ä¸éœ€è¦åŒå¼•å·ã€‚</p><p><code>time</code>ä¸èƒ½æ˜¯field keyæˆ–tag key; openGeminiæ‹’ç»ä½¿ç”¨<code>time</code>ä½œä¸ºtag keyçš„å†™å…¥ï¼Œå¦åˆ™è¿”å›é”™è¯¯ã€‚ä½¿ç”¨<code>time</code>ä½œä¸ºfield keyå†™å…¥ï¼ŒopenGeminiå°†å¿½ç•¥<code>time</code>å­—æ®µã€‚</p><h2 id="å°†æ•°æ®å†™å…¥opengemini" tabindex="-1"><a class="header-anchor" href="#å°†æ•°æ®å†™å…¥opengemini" aria-hidden="true">#</a> å°†æ•°æ®å†™å…¥openGemini</h2><h3 id="åœ¨æ•°æ®åº“ä¸­è·å–æ•°æ®" tabindex="-1"><a class="header-anchor" href="#åœ¨æ•°æ®åº“ä¸­è·å–æ•°æ®" aria-hidden="true">#</a> åœ¨æ•°æ®åº“ä¸­è·å–æ•°æ®</h3><p>ç°åœ¨ï¼Œæ‚¨å·²ç»äº†è§£openGemini line procotolçš„å…¨éƒ¨çŸ¥è¯†ï¼Œå®é™…ä¸Šå¦‚ä½•å°†line procotol æ·»åŠ åˆ°openGeminiï¼Œåœ¨è¿™é‡Œå°†ç»™å‡ºç®€å•çš„ç¤ºä¾‹ã€‚</p>`,21),R=e("p",null,"ä½¿ç”¨ts-cliå‘½ä»¤å°†æ•°æ®å†™å…¥openGeminiæ•°æ®åº“ï¼Œå¯åŠ¨å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰å†™å…¥ç›¸å…³çš„æ•°æ®åº“ï¼Œå¹¶å°†Insertæ”¾åœ¨line procotolå‰é¢:",-1),L=e("div",{class:"language-sql line-numbers-mode","data-ext":"sql"},[e("pre",{class:"language-sql"},[e("code",null,[e("span",{class:"token keyword"},"INSERT"),s(" weather"),e("span",{class:"token punctuation"},","),s("location"),e("span",{class:"token operator"},"="),s("us"),e("span",{class:"token operator"},"-"),s("midwest temperature"),e("span",{class:"token operator"},"="),e("span",{class:"token number"},"82"),s(),e("span",{class:"token number"},"1465839830100400200"),s(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),S=e("p",null,"ä¹Ÿå¯ä»¥ä½¿ç”¨CLIä»æ–‡ä»¶å¯¼å…¥Line protocolæ•°æ®ã€‚",-1),N=e("p",null,[s("å‚è€ƒ"),e("a",{href:""},"ts-cli"),s("ã€‚")],-1),C=e("p",null,[s("ä½¿ç”¨openGemini APIå°†æ•°æ®å†™å…¥openGeminiï¼Œä½¿ç”¨"),e("code",null,"POST"),s("å‘`/writeæ–¹æ³•å‘èµ·è¯·æ±‚ï¼Œå¹¶åœ¨è¯·æ±‚æ­£æ–‡ä¸­æä¾›æ‚¨çš„line protocolï¼š")],-1),A=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"curl"),s(),e("span",{class:"token parameter variable"},"-i"),s(),e("span",{class:"token parameter variable"},"-XPOST"),s(),e("span",{class:"token string"},'"http://localhost:8086/write?db=science_is_cool"'),s(" --data-binary "),e("span",{class:"token string"},"'weather,location=us-midwest temperature=82 1465839830100400200'"),s(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),P=e("p",null,"æ‰¹é‡å†™å…¥æ•°æ®ï¼š",-1),F=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"curl"),s(),e("span",{class:"token parameter variable"},"-i"),s(),e("span",{class:"token parameter variable"},"-XPOST"),s(),e("span",{class:"token string"},'"http://localhost:8086/write?db=db0"'),s(" --data-binary "),e("span",{class:"token string"},`'
weather,location=us-midwest temperature=82 1465839830100400200
weather,location=us-midwest temperature=83 1465839830100400300
weather,location=us-midwest temperature=84 1465839830100400400
'`),s(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),O=e("h3",{id:"é‡å¤points",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#é‡å¤points","aria-hidden":"true"},"#"),s(" é‡å¤points")],-1),M=e("p",null,[s("point ç”±measurementåç§°ï¼Œtag setï¼Œå’Œtimestampå”¯ä¸€æ ‡è¯†ï¼Œå¦‚æœæäº¤å…·æœ‰ç›¸åŒmeasurementã€tag setå’Œtimestampçš„line procotolï¼Œä½†æ˜¯ä½¿ç”¨ä¸åŒçš„"),e("strong",null,"field set"),s("ï¼Œfield setå°±å˜æˆäº†æ—§field setå’Œæ–°field setçš„"),e("strong",null,"å¹¶é›†"),s("ï¼Œå¦‚æœå­˜åœ¨field_keyå†²çªï¼Œä»…ä¿ç•™æ–°çš„field setçš„æ•°æ®ã€‚")],-1);function U(Z,B){const p=r("RouterLink"),c=r("ExternalLinkIcon"),d=r("Tabs");return m(),v("div",null,[k,e("p",null,[s("Line protocol æ˜¯ä¸€ç§åŸºäºæ–‡æœ¬çš„æ ¼å¼ï¼Œç”¨äºå°†pointså†™å…¥æ•°æ®åº“ã€‚ points å¿…é¡»æ˜¯Line protocolæ ¼å¼ï¼Œæ‰èƒ½æˆåŠŸè§£æå’Œå†™point (é™¤éä½ æ­£åœ¨ä½¿ç”¨ "),n(p,{to:"/guide/write/prometheus.html"},{default:a(()=>[s("æ”¯æŒçš„åè®®")]),_:1}),s(").")]),h,e("p",null,[s("ä¸ºäº†è·å¾—æœ€ä½³æ€§èƒ½ï¼Œæ‚¨åº”è¯¥åœ¨å°†<"),b,s(">æ’åºåå†å‘é€åˆ°æ•°æ®åº“ã€‚ æ’åºå‡½æ•°å‚è€ƒ "),e("a",w,[s("Go bytes.Compare"),n(c)]),s(".")]),x,e("ul",null,[e("li",null,[_,q,n(d,{id:"189",data:[{title:"CLI"},{title:"API"}]},{tab0:a(({title:o,value:i,isActive:l})=>[f,y]),tab1:a(({title:o,value:i,isActive:l})=>[T,E]),_:1})]),G]),I,n(d,{id:"342",data:[{title:"CLI"},{title:"API"}]},{tab0:a(({title:o,value:i,isActive:l})=>[R,L,S,N]),tab1:a(({title:o,value:i,isActive:l})=>[C,A,P,F]),_:1}),O,M])}const Q=u(g,[["render",U],["__file","line_protocol_tutorials.html.vue"]]);export{Q as default};
